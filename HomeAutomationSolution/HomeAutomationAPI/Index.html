<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>AM Home Automation Control</title>
    <meta name="viewport" content="width=100, initial-scale=1">
    <script src="Scripts/jquery-3.3.1.min.js"></script>
    <style>
        body {
            font-family: Arial;
            font-size: 10pt;
        }

        .home {
            color: black;
            font-weight: 700;
            font-size: 18pt;
            margin: 4px 4px 4px 4px;
        }

        .room {
            color: brown;
            font-weight: 700;
        }

        .bulb {
            color: goldenrod;
            font-weight: 700;
        }

        .tube {
            color: cornflowerblue;
            font-weight: 700;
        }

        .fan {
            color: darkgreen;
            font-weight: 700;
        }

        .bulb-on {
            background-color: khaki;
            color: goldenrod;
            font-weight: 700;
        }

        .tube-on {
            background-color: cyan;
            color: cornflowerblue;
            font-weight: 700;
        }

        .fan-on {
            background-color: aquamarine;
            color: darkgreen;
            font-weight: 700;
        }

        td {
            text-align: right;
        }
    </style>
    <script name="cboFastBikes">
        jQuery.support.cors = true;
        $(document).ready(function () {

            $.ajax(
                {
                    type: "GET",
                    url: 'http://localhost/homeautomation/api/home/GetAllDEviceStatus',
                    data: "",
                    contentType: "application/json;",
                    dataType: "json",
                    success: function (data) {
                        ApplyDeviceStates(data);
                    },
                    error: function (msg, url, line) {
                        alert("Error");
                    }
                });
        });

        function ApplyDeviceStates(roomDeviceData) {
            var roomArr = roomDeviceData.split('@');
            for (i = 0; i < roomArr.length; i++) {
                var devArr = roomArr[i].split('^');
                var RoomName = devArr[0];
                var DevArrData = devArr[1].split('#');
                for (j = 0; j < DevArrData.length; j++) {
                    alert(DevArrData[j]);
                }
            }
        }
    </script>
</head>
<body>
    <table style="border:solid;width:300px;">
        <tr><td colspan="4" style="text-align:center"><span class="home">Ashish's Home</span></td></tr>
        <tr><td colspan="4" style="text-align:center"><span class="home"><p id="dtm"></p></span></td></tr>
        <tr><td><span class="room">Drawing Room</span></td><td><span class="bulb"><button id="B1" onclick="Click(this);" type="button">Bulb</button></span></td><td><span class="tube"><button id="T1" onclick="Click(this);" type="button">Tubelight</button></span></td><td><span class="fan"><button id="F1" onclick="Click(this);" type="button">Fan</button></span></td></tr>

        <tr><td><span class="room">Living Room</span></td><td><span class="bulb"><button id="B2" onclick="Click(this);" type="button">Bulb</button></span></td><td><span class="tube"><button id="T2" onclick="Click(this);" type="button">Tubelight</button></span></td><td><span class="fan"><button id="F2" onclick="Click(this);" type="button">Fan</button></span></td></tr>

        <tr><td><span class="room">Kids' Room</span></td><td><span class="bulb"><button id="B3" onclick="Click(this);" type="button">Bulb</button></span></td><td><span class="tube"><button id="T3" onclick="Click(this);" type="button">Tubelight</button></span></td><td><span class="fan"><button id="F3" onclick="Click(this);" type="button">Fan</button></span></td></tr>

        <tr><td><span class="room">Master BedRoom</span></td><td><span class="bulb"><button id="B4" onclick="Click(this);" type="button">Bulb</button></span></td><td><span class="tube"><button id="T4" onclick="Click(this);" type="button">Tubelight</button></span></td><td><span class="fan"><button id="F4" onclick="Click(this);" type="button">Fan</button></span></td></tr>

        <tr><td><span class="room">Study Room</span></td><td><span class="bulb"><button id="B5" onclick="Click(this);" type="button">Bulb</button></span></td><td><span class="tube"><button id="T5" onclick="Click(this);" type="button">Tubelight</button></span></td><td><span class="fan"><button id="F5" onclick="Click(this);" type="button">Fan</button></span></td></tr>

        <tr><td><span class="room">Kitchen</span></td><td><span class="bulb"><button id="B6" onclick="Click(this);" type="button">Bulb</button></span></td><td><span class="tube"><button id="T6" onclick="Click(this);" type="button">Tubelight</button></span></td><td><span class="fan"><button id="F6" onclick="Click(this);" type="button">Fan</button></span></td></tr>
    </table>
</body>
</html>